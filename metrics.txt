# GPU Monitoring Dashboard - Kullanilan DCGM Metrikleri
# =====================================================
# Bu dashboard'da kullanilan tum NVIDIA DCGM metriklerinin listesi

## TEMEL METRIKLER (Zorunlu)
## -------------------------

DCGM_FI_DEV_GPU_TEMP
  - Aciklama: GPU sicakligi (Celsius)
  - Kullanim: Sicaklik gauge, trend, tablo
  - Threshold: 75C (sari), 83C (turuncu), 90C (kirmizi)

DCGM_FI_DEV_FB_USED
  - Aciklama: Kullanilan GPU bellegi (MiB)
  - Kullanim: Bellek gauge, trend, tablo, pod bazli chart

DCGM_FI_DEV_FB_FREE
  - Aciklama: Bos GPU bellegi (MiB)
  - Kullanim: FB_TOTAL fallback hesaplamasi

DCGM_FI_DEV_FB_TOTAL
  - Aciklama: Toplam GPU bellegi (MiB)
  - Kullanim: Bellek yuzde hesaplamasi, kapasite
  - Not: Bazi sistemlerde mevcut olmayabilir (FB_USED + FB_FREE fallback)

DCGM_FI_DEV_POWER_USAGE
  - Aciklama: Anlik guc tuketimi (Watt)
  - Kullanim: Guc gauge, trend, tablo

DCGM_FI_DEV_XID_ERRORS
  - Aciklama: XID hata sayaci
  - Kullanim: Hata sayisi (son 1 saatteki artis)

DCGM_FI_DEV_ECC_DBE_VOL_TOTAL
  - Aciklama: ECC Double-Bit Error sayisi
  - Kullanim: Kritik hata gostergesi


## PROFILING METRIKLERI (Opsiyonel - Profiling Collector Gerektirir)
## -----------------------------------------------------------------

DCGM_FI_PROF_GR_ENGINE_ACTIVE
  - Aciklama: Graphics Engine kullanim orani (0-1)
  - Kullanim: Ana GPU kullanim gostergesi, trend, tablo
  - Not: Profiling collector aktif olmalidir
  - Alternatif: DCGM_FI_DEV_GPU_UTIL (daha az hassas)

DCGM_FI_PROF_SM_ACTIVE
  - Aciklama: SM (Streaming Multiprocessor) aktiflik orani (0-1)
  - Kullanim: SM Active gauge
  - Not: Profiling collector aktif olmalidir

DCGM_FI_PROF_SM_OCCUPANCY
  - Aciklama: SM doluluk orani (0-1)
  - Kullanim: SM Occupancy gauge
  - Not: Profiling collector aktif olmalidir


## GUC LIMITI METRIGI (Opsiyonel - Dinamik Guc Yuzdeligi Icin)
## ----------------------------------------------------------

DCGM_FI_DEV_POWER_MGMT_LIMIT
  - Aciklama: GPU guc yonetim limiti (Watt)
  - Kullanim: Guc tuketimi yuzde hesaplamasi
  - Not: Mevcut degilse guc yalnizca Watt olarak gosterilir
  - Alternatifler: DCGM_FI_DEV_ENFORCED_POWER_LIMIT, DCGM_FI_DEV_POWER_LIMIT


## LABEL'LAR
## ---------

Hostname       - Node/sunucu ismi
UUID           - GPU benzersiz tanimlayicisi
GPU_I_ID       - MIG instance ID (MIG aktifse)
GPU_I_PROFILE  - MIG profil ismi (ornek: 1g.5gb)
exported_pod   - Kubernetes pod ismi
gpu            - GPU index numarasi (0, 1, 2, ...)
modelName      - GPU model ismi (ornek: NVIDIA H100 80GB HBM3)


## PROMETHEUS KONTROL SORGULARI
## ----------------------------

# Tum DCGM metriklerini listele:
{__name__=~"DCGM_FI_.*"}

# Temel metriklerin varligini kontrol et:
count(DCGM_FI_DEV_GPU_TEMP)
count(DCGM_FI_DEV_FB_USED)
count(DCGM_FI_DEV_POWER_USAGE)

# Profiling metriklerini kontrol et:
count(DCGM_FI_PROF_GR_ENGINE_ACTIVE)
count(DCGM_FI_PROF_SM_ACTIVE)

# Guc limiti metrigini kontrol et:
count(DCGM_FI_DEV_POWER_MGMT_LIMIT)

# Alternatif guc limit metriklerini ara:
{__name__=~"DCGM.*POWER.*LIMIT.*"}


## GPU MODELLERI VE TDP DEGERLERI
## ------------------------------

H100 SXM (HBM3)  : 700W TDP
H100 NVL         : 400W TDP (cift GPU paketi icin 800W)
H200             : 700W TDP
A100 SXM         : 400W TDP
A100 PCIe        : 250W TDP
V100             : 250-300W TDP
T4               : 70W TDP
A10              : 150W TDP
